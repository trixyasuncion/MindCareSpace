<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Mood for Today</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #eaf5fc, #f4e3fb);
      margin: 0;
      padding: 0;
    }

    header {
      background:linear-gradient(550deg,#e9f6fa,#ede6f3);
      color: rgb(74, 32, 104);
      text-align: center;
      padding: 1.5rem;
      font-size: 2rem;
      letter-spacing: 2px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }

    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
      background: linear-gradient(550deg,#e9f6fa,#ede6f3);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    h2 {
      color: linear-gradient(550deg,#e9f6fa,#ede6f3);
      text-align: center;
      margin-bottom: 1rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    table, th, td {
      border: 1px solid #ccc;
    }

    th, td {
      text-align: center;
      padding: 0.8rem;
    }

    th {
      background: #f1e9fb;
      color: #333;
    }

    td input {
      padding: 0.5rem;
      border-radius: 8px;
      border: 1px solid #aaa;
      width: 90%;
    }

    button {
      margin-top: 1.5rem;
      display: block;
      margin-left: auto;
      margin-right: auto;
      background: #6a4c93;
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #55307d;
    }

    .saved {
      margin-top: 2rem;
    }

    .entry {
      background: #f9f7fb;
      padding: 1rem;
      border-left: 4px solid #6a4c93;
      border-radius: 8px;
      margin-bottom: 1rem;
    }

    canvas {
      margin-top: 2rem;
     
    }
  
    /* Para lumit yung chart */
    .prepend {
      width: 20px;
      height: 20px;
    }
     
  </style>
</head>
<body>

  <header>ðŸ“– My Mood Journal</header>

  <div class="container">
    <h2>Daily Log</h2>
    <table>
      <tr>
        <th>Date</th>
        <th>Positive</th>
        <th>Negative</th>
        <th>Notes</th>
      </tr>
      <tr>
        
        <td><input type="date" id="date"></td>
        <td>
    <select id="positive">
      <option value="">--Select--</option>
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
    </select>
  </td>

  <!-- Negative Dropdown -->
  <td>
    <select id="negative">
      <option value="">--Select--</option>
      <option>0</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
      <option>5</option>
      <option>6</option>
      <option>7</option>
      <option>8</option>
      <option>9</option>
      <option>10</option>
      <option>11</option>
      <option>12</option>
      <option>13</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
    </select>
  </td>

  <td><input type="text" id="notes" placeholder="Add a note..."></td>
</tr>

    </table>
    <button onclick="saveLog()">Save Entry</button>

    <div class="saved" id="saved"></div>

    <h2>ðŸŒˆ My Mood for Today</h2>
    <canvas id="moodChart" width="400" height="200"></canvas>
  </div>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    let currentPositive = 0;
    let currentNegative = 0;

    const ctx = document.getElementById("moodChart").getContext("2d");
    const moodChart = new Chart(ctx, {
      type: "pie",
      data: {
        labels: ["Positive", "Negative"],
        datasets: [{
          data: [0, 0],
          backgroundColor: ["#4CAF50", "#f44336"],
          borderColor: ["#388E3C", "#C62828"],
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: "bottom",
            labels: {
              font: {
                size: 14
              }
            }
          }
        }
      }
    });

    function saveLog() {
      let date = document.getElementById("date").value;
      let positive = parseInt(document.getElementById("positive").value) || 0;
      let negative = parseInt(document.getElementById("negative").value) || 0;
      let notes = document.getElementById("notes").value;

      if (!date) {
        alert("Please select a date!");
        return;
      }

      let saved = document.getElementById("saved");

      let entry = document.createElement("div");
      entry.classList.add("entry");
      entry.innerHTML = `
        <strong>${date}</strong> - 
        <span style="color:#4CAF50">Positive: ${positive}</span> | 
        <span style="color:#f44336">Negative: ${negative}</span>
        <p>${notes}</p>
      `;
      saved.prepend(entry);

      // update pie chart with todayâ€™s mood
      currentPositive = positive;
      currentNegative = negative;
      moodChart.data.datasets[0].data = [currentPositive, currentNegative];
      moodChart.update();

      // clear inputs
      document.getElementById("date").value = "";
      document.getElementById("positive").value = "";
      document.getElementById("negative").value = "";
      document.getElementById("notes").value = "";
    }
  </script>

</body>
</html>
